<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
  <title>Ghost Net Fishing</title>
  <style>
    :root {
      --gap: 12px;
      --gap-lg: 18px;
    }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    .container { max-width: 960px; margin: 0 auto; padding: 16px; }
    h1 { margin: 0 0 var(--gap-lg) 0; }
    h2 { margin: var(--gap-lg) 0 var(--gap) 0; }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: var(--gap-lg);
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px 10px;
      text-align: left;
    }
    th { background: #f2f2f2; font-weight: 600; }

    .form-grid { display: grid; grid-template-columns: 1fr; gap: var(--gap-lg); margin-top: var(--gap-lg); }
    .field label { display: block; font-weight: 600; margin-bottom: 6px; }
    .field input[type="text"], .field textarea {
      width: 100%; padding: 8px 10px; box-sizing: border-box;
    }
    .actions { margin-top: var(--gap); }
  </style>
</h:head>
<h:body>

  <div class="container">
    <h1>Gemeldete Geisternetze</h1>
    <p><h:link outcome="personen" value="Bergende Personen verwalten"/></p>

    <h:form>
      <table>
        <thead>
        <tr>
          <th>ID</th>
          <th>Breite</th>
          <th>Länge</th>
          <th>Größe</th>
          <th>Status</th>
          <th>Aktion</th>
        </tr>
        </thead>
        <tbody>
        <ui:repeat value="#{netzController.offeneNetze}" var="n">
          <tr>
            <td>#{n.id}</td>
            <td>#{n.latitude}</td>
            <td>#{n.longitude}</td>
            <td>#{n.groesse}</td>
            <td>#{n.status}</td>
            <td>
              <h:link value="Bearbeiten" outcome="netz-bearbeiten">
                <f:param name="id" value="#{n.id}" />
              </h:link>
              &#160;|&#160;
              <h:commandLink value="Bevorstehend" action="#{netzController.alsBevorstehend(n.id)}"/>
              &#160;|&#160;
              <h:commandLink value="Geborgen" action="#{netzController.alsGeborgen(n.id)}"/>
              &#160;|&#160;
              <h:commandLink value="Verschollen" action="#{netzController.alsVerschollen(n.id)}"/>
            </td>
          </tr>
        </ui:repeat>
        </tbody>
      </table>
    </h:form>

    <h2>Neues Netz erfassen</h2>
    <h:form>
      <div class="form-grid">

        <div class="field">
          <label for="lat">Breite (Lat, z. B. 54.1234):</label>
          <h:inputText id="lat" value="#{netzController.neu.latitude}" required="true"/>
        </div>

        <div class="field">
          <label for="lon">Länge (Lon, z. B. 10.5678):</label>
          <h:inputText id="lon" value="#{netzController.neu.longitude}" required="true"/>
        </div>

        <div class="field">
          <label for="gr">Größe (m):</label>
          <h:inputText id="gr" value="#{netzController.neu.groesse}"/>
        </div>

        <div class="field">
          <label for="desc">Beschreibung:</label>
          <h:inputTextarea id="desc" value="#{netzController.neu.beschreibung}" rows="3"/>
        </div>

        <div class="actions">
          <h:commandButton value="Melden" action="#{netzController.erfassen}"/>
        </div>

      </div>
    </h:form>
  </div>

</h:body>
</html>
